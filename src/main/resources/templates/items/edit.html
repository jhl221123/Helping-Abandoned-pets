<!DOCTYPE HTML>
<html th:replace="~{layout/layout :: layout(~{::section})}" xmlns:th="http://www.thymeleaf.org">
<body>
<section>
	<div class="container">
		<form class="board-edit-box" role="form" th:object="${editForm}" enctype="multipart/form-data" th:method="post">

			<div class="board-title-box">
				<span>
					<label th:for="itemName" style="display: none;">제목</label>
					<input class="board-title-field form-control" type="text" th:field="*{itemName}" th:errorclass="field-error"
					       placeholder="제품명" style="border: none;">
				</span>

				<span class="float-right">
					<label th:for="price" style="color: #6E6E6E;">가격</label>
					<input class="board-title-field form-control" type="number" th:field="*{price}" th:errorclass="field-error"
					       placeholder="희망가격" style="border: none; width: 110px;">
				</span>
			</div>
			<p style="display: inline-block;" class="field-error" th:errors="*{itemName}">입력 오류</p>
			<p style="display: inline-block;" class="field-error float-right" th:errors="*{price}">입력 오류</p>

			<div class="division-line"></div>

			<div class="board-title-box">
				<span>
					<label th:for="title" style="display: none;">제목</label>
					<input class="board-title-field form-control" type="text" th:field="*{title}" th:errorclass="field-error"
					       placeholder="제목" style="border: none;">
				</span>
			</div>
			<span class="field-error" th:errors="*{title}">입력 오류</span>

			<div class="division-line"></div>

			<div class="form-group">
				<label th:for="content" style="display: none;">내용</label>
				<textarea th:errorclass="field-error" class="form-control" th:field="*{content}" rows="10" placeholder="내용" style="border: none;"></textarea>
				<p class="field-error" th:errors="*{content}">입력 오류</p>
				<div class="division-line"></div>
			</div>

			<!--	change leadImage	-->
			<div th:if="|!${editForm.oldLeadImage} == null|">
				<div class="form-group">
					<label class="image-edit-label" th:for="newLeadImage"> &#91; 대표이미지 교체 &#93;</label>
					<img class="image-edit item-edit-leadImage" th:src="|/images/${editForm.oldLeadImage.storeFileName}|" width="100" height="100"/>
					<input type="file" th:field="*{newLeadImage}" class="form-control-file">
				</div>
				<div class="division-line"></div>
			</div><!--	/change leadImage	-->

			<!--	change other images	-->
			<div th:if="${!editForm.oldImages.isEmpty()}">
				<span class="image-edit-label">&#91; 사진 삭제 &#93;</span>
				<div class="image-edit-area">
					<div class="image-edit-box" th:each="oldImage : *{oldImages}">
						<label>
							<input type="checkbox" th:field="*{deleteImageIds}" th:value="${oldImage.id}">
							<img class="image-edit" th:src="|/images/${oldImage.getStoreFileName()}|" width="100" height="100"/>
						</label>
					</div>
				</div>
				<div class="division-line"></div>
			</div><!--	/change other images	-->

			<div class="form-group">
				<label class="image-edit-label" th:for="newImages"> &#91; 사진 추가 &#93;</label>
				<input class="form-control-file file-input-btn" type="file" multiple="multiple" th:field="*{newImages}">
			</div>
			<div class="col-lg-12 text-right">
				<button type="button" class="utility-button" th:onclick="|location.href='@{/items/{id}(id=${editForm.id})}'|">취소</button>
				<button type="submit" class="utility-button" >완료</button>
			</div>
		</form>
	</div> <!-- /container -->
</section>
</body>
</html>